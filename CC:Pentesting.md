# CC:Pentesting Write-Up

A TryHackMe beginner level room, which provides an introduction to various tools and concepts commonly encountered in penetration testing

## Deploy the machine
Turn on OpenVPN on your machine to connect to corresponding server

If you don't have OpenVPN, then go download it and type 'sudo openvpn <OpenVPN_filename>' in terminal

## [Section 1 - Network Utilities] - nmap

nmap = 'Network Mapper'

nmap -> allows a pen tester to see which ports are open, and information about which services are running on those ports

```language
-p : specify which ports to scan
-sn: ping scan
-sU: UDP scan
-sC: run default scripts
-sV: show versions of services
-A : aggressive mode (enable OS detection, version detection, script scanning and traceroute)
-O : enable OS detection
```

### 1. How many ports are open on the machine?
```bash
	nmap -sC -sV -oN <IP_Address>
```
#### answer: 1

### 2. What service is running on the machine?
refer to information above
#### answer: Apache

### 3. What is the version of the service?
refer to information above
#### answer: 2.4.18

### 4. What is the output of the http-title script(included in default scripts)?
refer to information above
#### answer: Apache2 Ubuntu Default Page: It Works


## [Section 1 - Network Utilities] - Netcat

nc -> allow users to connect to specific ports and send and receive data

Types of shells

1: Bind Shell
A type of shell in which the target machine opens up a communication port or a listener on the victim machine and waits for an incoming connection. The attacker then connects to the victim machineâ€™s listener which then leads to code or command execution on the server.

2: Reverse Shell
A type of shell in which the target machine communicates back to the attacking machine. The attacking machine has a listener port on which it receives the connection, which by using, code or command execution is achieved.

```language
-l : listen for connections
-v : enable verbose mode (allow you to see who connected to you)
-p : specify a port to listen on
-e : specify which porgram to execute after connecting to a host
-u : UDP mode
```


## [Section 2 - Web Enumeration] - gobuster

gobuster -> try to find valid directories from a wordlist of possible directories, as well as valid subdomains

<Commands>

```language
dir: use directory/file enumeration mode
dns: use DNS subdomain enumeration mode
fuzz: use fuzzing mode
s3 : use aws bucket enumeration mode
version: show the current version
vhost: use VHOST enumeration mode
```

<Flags>

```language
  -f, --add-slash                     Append / to each request
  -c, --cookies string                Cookies to use for the requests
  -e, --expanded                      Expanded mode, print full URLs
  -x, --extensions string             File extension(s) to search for
  -r, --follow-redirect               Follow redirects
  -H, --headers stringArray           Specify HTTP headers, -H 'Header1: val1' -H 'Header2: val2'
  -h, --help                          help for dir
  -l, --include-length                Include the length of the body in the output
  -k, --no-tls-validation             Skip TLS certificate verification
  -n, --no-status                     Don't print status codes
  -P, --password string               Password for Basic Auth
  -p, --proxy string                  Proxy to use for requests [http(s)://host:port]
  -s, --status-codes string           Positive status codes (will be overwritten with status-codes-blacklist if set) (default "200,204,301,302,307,401,403")
  -b, --status-codes-blacklist string Negative status codes (will override status-codes if set)
      --timeout duration              HTTP Timeout (default 10s)
  -u, --url string                    The target URL
  -a, --useragent string              Set the User-Agent string (default "gobuster/3.1.0")
  -U, --username string               Username for Basic Auth
  -d, --discover-backup               Upon finding a file search for backup files
      --wildcard                      Force continued operation when wildcard found
```

<Global Flags>

```language
  -z, --no-progress       Don't display progress
  -o, --output string     Output file to write results to (defaults to stdout)
  -q, --quiet             Don't print the banner and other noise
  -t, --threads int       Number of concurrent threads (default 10)
      --delay duration    Time each thread waits between requests (e.g. 1500ms)
  -v, --verbose           Verbose output (errors)
  -w, --wordlist string   Path to the wordlist
```


### 1. How to find a hidden directory?

```bash
  	gobuster dir -u http://<IP_ADDRESS> -w /usr/share/wordlists/dirb/common.txt -t 64
```
#### Answer: secret

### 2. How to find a hidden directory with the extension xxa?

```bash
  	gobuster dir -u http://<IP_ADDRESS> -w /usr/share/wordlists/dirb/common.txt -x xxa -t 64 -q
```
#### Answer: password


## [Section 2 - Web Enumeration] - nikto